# [Gold II] 멀지만 가까운 사이 - 34224 

[문제 링크](https://www.acmicpc.net/problem/34224) 

### 성능 요약

메모리: 93444 KB, 시간: 764 ms

### 분류

그래프 이론, 그래프 탐색, 트리, 깊이 우선 탐색

### 제출 일자

2026년 2월 26일 19:43:18

### 문제 설명

<p>숭고한 동네에는 $N$개의 마을이 있다. 마을들은 $N-1$개의 도로로 연결되어 있고, 도로는 항상 두 마을을 직접 연결하며, 모든 마을이 연결되어 있어 전체 구조는 하나의 트리<sup>†</sup>이다. 각 도로에는 마을과 마을 사이의 거리가 적혀 있다.</p>

<p>문성이는 모든 마을 쌍 중에서 특별한 관계를 가지는 쌍들을 찾고자 한다. 문성이는 다음과 같이 정의된 마을 쌍을 <strong>멀지만 가까운 사이</strong>라고 부른다.</p>

<ul>
	<li>두 마을 $u$, $v$ 사이의 경로를 따라 도로의 거리 값을 전부 XOR 했을 때, 그 결과가 정확히 $0$이 되는 경우</li>
</ul>

<p>문성이는 궁금해졌다. 이런 특별한 관계를 가진 마을 쌍이 총 몇 쌍이나 존재할까?</p>

<p>단, $(u, v)$와 $(v, u)$는 같은 쌍으로 간주하며, $u \ne v$인 경우만 센다.</p>

<hr>
<p><sup>†</sup> 트리는 $N$개의 정점과 $N-1$개의 간선으로 이루어진 무방향 연결 그래프이다.</p>

### 입력 

 <p>첫째 줄에 마을의 수 $N$이 주어진다. $(2 \le N \le 500\,000)$</p>

<p>이어서 $N - 1$개의 각 줄에는 $i$번째 도로가 잇는 두 마을 $u_i$, $v_i$와 거리를 나타내는 정수 $w_i$가 공백으로 구분되어 주어진다. $(1 \le u, v \le N;\ 0 \le w \le 10^9)$</p>

### 출력 

 <p>첫째 줄에 <strong>멀지만 가까운 사이</strong>를 이루는 마을 쌍의 수를 출력한다.</p>

